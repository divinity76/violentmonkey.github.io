"use strict";(self.webpackChunkviolentmonkey_github_io=self.webpackChunkviolentmonkey_github_io||[]).push([[477],{1307:function(e,t,n){function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=a(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}n.d(t,{RP:function(){return i}});var c=n(9474);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){var a,c,r;a=e,c=t,r=n[t],(c=l(c))in a?Object.defineProperty(a,c,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[c]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const s=c.createContext({});function i(e){const t=c.useContext(s);return c.useMemo((()=>"function"==typeof e?e(t):o(o({},t),e)),[t,e])}},8071:function(e,t,n){n.r(t),n.d(t,{Head:function(){return i.p},default:function(){return u}});var a=n(1307),l=n(9474);function c(e){const t=Object.assign({p:"p",a:"a",code:"code",strong:"strong",h2:"h2",span:"span",ul:"ul",li:"li",em:"em",h3:"h3",pre:"pre"},(0,a.RP)(),e.components);return l.createElement(l.Fragment,null,l.createElement(t.p,null,"Since Violentmonkey v2.10.0, a new type of metadata named ",l.createElement(t.a,{href:"/api/metadata-block/#inject-into"},l.createElement(t.code,null,"@inject-into"))," is introduced. With its help, ",l.createElement(t.strong,null,"scripts can be injected into CSP restricted pages in Firefox now!")),"\n",l.createElement(t.h2,{id:"contexts",style:{position:"relative"}},l.createElement(t.a,{href:"#contexts","aria-label":"contexts permalink",className:"anchor before"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Contexts"),"\n",l.createElement(t.p,null,"As we know, there are two types of context for a script to execute in:"),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"context of a web page"),"\n",l.createElement(t.p,null,'The context in which all scripts of a web page execute. We will call it "',l.createElement(t.em,null,"page context"),'" later.'),"\n"),"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"context of content scripts"),"\n",l.createElement(t.p,null,"The context in which ",l.createElement(t.a,{href:"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts",target:"_blank",rel:"nofollow noopener noreferrer"},"content scripts"),' execute. We will call it "',l.createElement(t.em,null,"content context"),'" later.'),"\n"),"\n"),"\n",l.createElement(t.h2,{id:"injection-modes",style:{position:"relative"}},l.createElement(t.a,{href:"#injection-modes","aria-label":"injection modes permalink",className:"anchor before"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Injection Modes"),"\n",l.createElement(t.p,null,"In earlier versions of Violentmonkey, all scripts will be injected into the ",l.createElement(t.em,null,"page context"),"."),"\n",l.createElement(t.p,null,"This works well at most times in Chrome. However, Firefox works differently. All scripts will be blocked in websites with CSP rules blocking inline scripts, like ",l.createElement(t.a,{href:"https://github.com",target:"_blank",rel:"nofollow noopener noreferrer"},"GitHub"),". See issue ",l.createElement(t.a,{href:"https://github.com/violentmonkey/violentmonkey/issues/173",target:"_blank",rel:"nofollow noopener noreferrer"},"#173"),", ",l.createElement(t.a,{href:"https://github.com/violentmonkey/violentmonkey/issues/408",target:"_blank",rel:"nofollow noopener noreferrer"},"#408"),"."),"\n",l.createElement(t.p,null,"By introducing ",l.createElement(t.code,null,"@inject-into"),", userscripts can be injected in Firefox now. In pages with CSP restrictions, we can inject userscripts into the ",l.createElement(t.em,null,"content context"),"."),"\n",l.createElement(t.h3,{id:"mode-page",style:{position:"relative"}},l.createElement(t.a,{href:"#mode-page","aria-label":"mode page permalink",className:"anchor before"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Mode: ",l.createElement(t.code,null,"page")),"\n",l.createElement(t.p,null,"This is the default mode, as the behavior in Violentmonkey v2.9.x."),"\n",l.createElement(t.p,null,l.createElement(t.code,null,"unsafeWindow")," refers to ",l.createElement(t.code,null,"window")," of the web page."),"\n",l.createElement(t.p,null,l.createElement(t.strong,null,"Example usage:")),"\n",l.createElement(t.pre,{className:"language-js"},l.createElement(t.code,{className:"language-js code-highlight"},l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ==UserScript=="),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ..."),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// @inject-into page"),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ==/UserScript=="),"\n"),l.createElement(t.span,{className:"code-line"},"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// `@inject-into` should be set to `page` since we need to access `window` of page context."),"\n"),l.createElement(t.span,{className:"code-line"},"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// Accessing objects attached to `window` of page"),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token function"},"alert"),l.createElement(t.span,{className:"token punctuation"},"("),l.createElement(t.span,{className:"token string"},"'Hi, '")," ",l.createElement(t.span,{className:"token operator"},"+")," unsafeWindow",l.createElement(t.span,{className:"token punctuation"},"."),l.createElement(t.span,{className:"token property-access"},"context"),l.createElement(t.span,{className:"token punctuation"},"."),l.createElement(t.span,{className:"token property-access"},"user"),l.createElement(t.span,{className:"token punctuation"},")"),l.createElement(t.span,{className:"token punctuation"},";"),"\n"))),"\n",l.createElement(t.h3,{id:"mode-content",style:{position:"relative"}},l.createElement(t.a,{href:"#mode-content","aria-label":"mode content permalink",className:"anchor before"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Mode: ",l.createElement(t.code,null,"content")),"\n",l.createElement(t.pre,{className:"language-js"},l.createElement(t.code,{className:"language-js code-highlight"},l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ==UserScript=="),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// @inject-into content"),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ==/UserScript=="),"\n"))),"\n",l.createElement(t.p,null,"In this mode, scripts will be injected into the ",l.createElement(t.em,null,"content context"),"."),"\n",l.createElement(t.p,null,"The ",l.createElement(t.em,null,"content context")," is an isolated world, scripts in this context have no access to JavaScript objects from ",l.createElement(t.em,null,"page context"),". But they can communicate with DOM APIs such as ",l.createElement(t.code,null,"addEventListener"),"."),"\n",l.createElement(t.p,null,l.createElement(t.code,null,"unsafeWindow")," refers to the ",l.createElement(t.code,null,"global")," object of ",l.createElement(t.em,null,"content context"),"."),"\n",l.createElement(t.p,null,l.createElement(t.strong,null,"Scripts requiring access to JavaScript objects in the web page will not work in this mode.")," For example, ",l.createElement(t.code,null,"unsafeWindow.jQuery")," becomes inaccessible even if jQuery is introduced in the page."),"\n",l.createElement(t.h3,{id:"mode-auto",style:{position:"relative"}},l.createElement(t.a,{href:"#mode-auto","aria-label":"mode auto permalink",className:"anchor before"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Mode: ",l.createElement(t.code,null,"auto")),"\n",l.createElement(t.pre,{className:"language-js"},l.createElement(t.code,{className:"language-js code-highlight"},l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ==UserScript=="),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// @inject-into auto"),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ==/UserScript=="),"\n"))),"\n",l.createElement(t.p,null,"In this mode, scripts will be injected into the ",l.createElement(t.em,null,"page context")," if possible. If blocked by CSP, they will be injected into the ",l.createElement(t.em,null,"content context"),". It is the script author's job to check the environments."),"\n",l.createElement(t.p,null,l.createElement(t.strong,null,"Example usage:")),"\n",l.createElement(t.pre,{className:"language-js"},l.createElement(t.code,{className:"language-js code-highlight"},l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ==UserScript=="),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ..."),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// @inject-into auto"),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// ==/UserScript=="),"\n"),l.createElement(t.span,{className:"code-line"},"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// `@inject-into` can be set to `auto` if we don't need to access any JavaScript object from page context."),"\n"),l.createElement(t.span,{className:"code-line"},"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// Accessing JavaScript objects shared in both contexts"),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token function"},"alert"),l.createElement(t.span,{className:"token punctuation"},"("),l.createElement(t.span,{className:"token string"},"'The current page link is '")," ",l.createElement(t.span,{className:"token operator"},"+")," ",l.createElement(t.span,{className:"token dom variable"},"window"),l.createElement(t.span,{className:"token punctuation"},"."),l.createElement(t.span,{className:"token property-access"},"location"),l.createElement(t.span,{className:"token punctuation"},"."),l.createElement(t.span,{className:"token property-access"},"href"),l.createElement(t.span,{className:"token punctuation"},")"),l.createElement(t.span,{className:"token punctuation"},";"),"\n"),l.createElement(t.span,{className:"code-line"},"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token comment"},"// Accessing DOM"),"\n"),l.createElement(t.span,{className:"code-line"},l.createElement(t.span,{className:"token dom variable"},"document"),l.createElement(t.span,{className:"token punctuation"},"."),l.createElement(t.span,{className:"token property-access"},"body"),l.createElement(t.span,{className:"token punctuation"},"."),l.createElement(t.span,{className:"token property-access"},"style")," ",l.createElement(t.span,{className:"token operator"},"=")," ",l.createElement(t.span,{className:"token string"},"'background: orange'"),l.createElement(t.span,{className:"token punctuation"},";"),"\n"))),"\n",l.createElement(t.h2,{id:"violentmonkey-settings",style:{position:"relative"}},l.createElement(t.a,{href:"#violentmonkey-settings","aria-label":"violentmonkey settings permalink",className:"anchor before"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Violentmonkey Settings"),"\n",l.createElement(t.p,null,"By default, a script will try to execute in the ",l.createElement(t.em,null,"page context"),". In Firefox, this may fail in CSP restricted pages."),"\n",l.createElement(t.p,null,"You can change the default behavior in the settings tab of Violentmonkey. By changing the ",l.createElement(t.em,null,"default injection mode")," to ",l.createElement(t.code,null,"auto"),", scripts that do not depend on traditional ",l.createElement(t.code,null,"unsafeWindow")," will work again in Firefox."))}var r=function(e={}){const{wrapper:t}=Object.assign({},(0,a.RP)(),e.components);return t?l.createElement(t,e,l.createElement(c,e)):c(e)},o=n(2349),s=n(301),i=n(9144);function m({location:e,data:t,children:n}){const{mdx:a}=t,c=(0,l.useRef)(),{pathname:r}=e,i="/"===r;return l.createElement(s.A,{location:e,sidebar:a.frontmatter.sidebar},l.createElement("main",{className:"flex-1 has-toc"},!i&&l.createElement("section",{className:"mb-10 pt-1"},l.createElement("h1",null,a.frontmatter.title)),l.createElement("section",{className:"items-start with-toc"},!i&&l.createElement(o.A,{data:a.tableOfContents,articleRef:c}),l.createElement("article",{className:"flex-1 min-w-0 mr-4",ref:c},n)),l.createElement("section",null,l.createElement("hr"),a.fields.slug.startsWith("posts/")&&l.createElement("div",{className:"mb-6"},l.createElement("em",null,"Published at ",a.frontmatter.date)))))}function u(e){return l.createElement(m,e,l.createElement(r,e))}},8931:function(e,t,n){n.d(t,{A:function(){return c}});let a=!1;try{const e=Object.defineProperty({},"passive",{get(){a=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(r){}const l=!!a&&{passive:!0};function c(e){return window.addEventListener("scroll",e,l),()=>window.removeEventListener("scroll",e,l)}},9144:function(e,t,n){n.d(t,{p:function(){return r}});var a=n(9474),l=n(8136),c=n(1713);function r(){const{site:{siteMetadata:{title:e,subtitle:t}}}=(0,l.useStaticQuery)("3202921338");return a.createElement(a.Fragment,null,a.createElement("title",null,e),a.createElement("meta",{name:"description",content:t}),a.createElement("meta",{name:"google-site-verification",content:"OKMYmcVuMfm9H_UjfNXPzRb2c0QoBtmZ7v1KwHNXnRQ"}),a.createElement("link",{rel:"shortcut icon",type:"image/png",href:c.A}))}},301:function(e,t,n){n.d(t,{A:function(){return w}});var a=n(8595),l=n(9474),c=(n(3763),n(993),n(1622),n(5376),n(8136));const r=(o=function(e){const{allMdx:{nodes:t}}=(0,c.useStaticQuery)("1116475411"),n=(0,l.useMemo)((()=>(null==e?void 0:e.match)&&(null==t?void 0:t.filter((t=>{var n;return(null===(n=t.frontmatter.sidebar)||void 0===n?void 0:n.match)===e.match})).sort(((e,t)=>e.frontmatter.sidebar.order-t.frontmatter.sidebar.order)))),[e,t]),[a,r]=(0,l.useState)(!1);return{matchedNodes:n,show:a,setShow:r,toggle:()=>{r(!a)}}},s=l.createContext(null),{Provider:function(e){var t=o(e.initialState);return l.createElement(s.Provider,{value:t},e.children)},useContainer:function(){var e=l.useContext(s);if(null===e)throw new Error("Component must be wrapped with <Container.Provider>");return e}});var o,s,i=n(4432),m=(n(6851),n(2445),n(8931));function u(){const e=(0,l.useRef)();return(0,l.useEffect)((()=>(0,m.A)((()=>{const t=document.documentElement,n=(document.body.scrollTop||t.scrollTop)/(t.scrollHeight-t.clientHeight),a=Math.min(1,n);e.current.style.transform=`scaleX(${a})`})))),l.createElement("div",{className:"w-full h-px"},l.createElement("div",{className:"w-full h-full origin-left bg-yellow-500 scale-x-0",ref:e}))}function p(){const[e,t]=(0,l.useState)(null);return e?l.createElement("div",{className:"bg-orange-200 px-4 text-sm flex","data-ga-category":"banner"},l.createElement("div",{className:"flex-1",dangerouslySetInnerHTML:{__html:e}}),l.createElement("div",{onClick:()=>{t(null)},className:"cursor-pointer text-gray-600","data-ga-label":"hide"},"âœ—")):null}function d(e){const{matchedNodes:t,toggle:n}=r.useContainer(),{data:a}=e,o=a.allMdx.nodes.reduce(((e,t)=>(t.frontmatter.redirect_from.forEach((n=>{e[n]=`/${t.fields.slug}`})),e)),{});return l.createElement("header",{className:"sticky top-0 left-0 right-0 bg-white z-10"},l.createElement("nav",null,l.createElement(c.Link,{to:"/",className:"nav-icon sm:hidden"},l.createElement("svg",{viewBox:"0 0 24 24"},l.createElement("path",{d:"M12 0l-12 12h4v12h5v-8h6v8h5v-12h4z"}))),t&&l.createElement("a",{className:"nav-icon lg:hidden",onClick:e=>{e.stopPropagation(),n()}},l.createElement("svg",{viewBox:"0 0 24 24"},l.createElement("path",{d:"M0 2h24v4h-24zM0 10h24v4h-24zM0 18h24v4h-24z"}))),l.createElement(c.Link,{to:"/",className:"brand hidden sm:block"},"Violentmonkey"),l.createElement("span",{className:"flex-1"}),l.createElement("div",{className:"overflow-auto min-w-0 flex whitespace-no-wrap"},a.site.siteMetadata.menu.map((e=>l.createElement(c.Link,{className:"nav-item",key:e.path,to:o[e.path]||e.path,activeClassName:"active",partiallyActive:!0},e.label))))),l.createElement(u,null))}var h=e=>l.createElement(c.StaticQuery,{query:"1700780748",render:t=>l.createElement(l.Fragment,null,l.createElement(p,null),l.createElement(d,(0,i.A)({},e,{data:t})))});function E(e){const{data:{site:{siteMetadata:{copyright:t,footer:n}}}}=e;return l.createElement("footer",{className:"flex mt-10 p-6 pb-16 border-t border-gray-400 lg:pb-6"},l.createElement("div",null,"Violentmonkey ",t),n.map((e=>l.createElement(c.Link,{className:"mx-2",key:e.path,to:e.path},e.label))))}var f=e=>l.createElement(c.StaticQuery,{query:"2344890832",render:t=>l.createElement(E,(0,i.A)({},e,{data:t}))});function g(){const{matchedNodes:e,setShow:t}=r.useContainer();return(0,l.useEffect)((()=>{if(e){const e=()=>{t(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}}),[e,t]),e?l.createElement("aside",{className:"sidebar"},l.createElement("ul",null,e.map(((e,t)=>l.createElement("li",{key:t},l.createElement(c.Link,{to:`/${e.fields.slug}`,activeClassName:"active"},e.frontmatter.title)))))):null}function v(){const[e,t]=(0,l.useState)(!1);return e?l.createElement("div",{className:"fixed bottom-0 right-0 w-full h-full flex flex-col items-end z-10 max-w-[320px] max-h-[450px]"},l.createElement("div",{className:"p-2 cursor-pointer",onClick:()=>t(!1)},l.createElement("svg",{viewBox:"0 0 12 12",className:"w-4 h-4"},l.createElement("path",{d:"M0 1L11 12L12 11L1 0zM11 0L0 11L1 12L12 1z",stroke:"none",fill:"currentColor"}))),l.createElement("iframe",{className:"flex-1 w-full",src:"https://discord.com/widget?id=995346102003965952&theme=dark",sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})):l.createElement("a",{className:"fixed bottom-0 right-8 px-8 py-2 bg-blue-500 hover:bg-blue-600 text-white hover:text-white rounded-t-lg uppercase cursor-pointer",onClick:()=>t(!0)},"Open Chat")}const b=["sidebar"];function N(e){const{location:{pathname:t},children:n}=e,{show:a}=r.useContainer();return"/offline-plugin-app-shell-fallback/"===t?null:l.createElement(l.Fragment,null,l.createElement(h,null),l.createElement("div",{className:"relative flex z-0 "+(a?"sidebar-open":"")},l.createElement(g,null),n),l.createElement(f,null),l.createElement(v,null))}var w=e=>{let{sidebar:t}=e,n=(0,a.A)(e,b);return l.createElement(r.Provider,{initialState:t},l.createElement(N,n))}},2349:function(e,t,n){n.d(t,{A:function(){return o}});n(116),n(2445);var a=n(9474),l=n(8136),c=n(8931);function r({items:e}){return a.createElement("ul",null,e.map(((e,t)=>{const n=e.url.indexOf("#"),c=n<0?"#":e.url.slice(n);return a.createElement("li",{key:t},a.createElement(l.Link,{to:c},e.title),e.items&&a.createElement(r,{items:e.items}))})))}function o(e){const{className:t,data:n,articleRef:l}=e,o=(0,a.useRef)(),s=(0,a.useRef)();return(0,a.useEffect)((()=>{if(!n)return;const e=Array.from(o.current.querySelectorAll("a"));e.forEach((e=>{const t=decodeURIComponent(e.href.split("#")[1]||"");if(e.dataset.id=t,l.current){const n=l.current.querySelector(`#${CSS.escape(t)}`);n&&(e.textContent=n.textContent.trim())}}));return(0,c.A)((()=>{if(!l.current||!o.current)return;const{scrollTop:t}=document.body,n=e.map((e=>{const{id:n}=e.dataset,a=l.current.querySelector(`#${CSS.escape(n)}`);return a&&{id:n,a:e,offset:a.getBoundingClientRect().top-t-70}})).filter(Boolean),{a:a}=n.find(((e,t)=>{const a=n[t+1];return a&&a.offset>0}))||{};s.current&&(s.current.className=""),a&&(a.className="active"),s.current=a}))})),a.createElement("section",{className:`toc ${t||""}`,ref:o},(null==n?void 0:n.items)&&a.createElement(a.Fragment,null,a.createElement("h2",null,"Table of Contents"),a.createElement(r,{items:n.items})))}},1713:function(e,t,n){t.A=n.p+"static/vm-6437e4e5a400c6eff1c23ead4d549b0a.png"}}]);
//# sourceMappingURL=component---src-templates-post-index-js-content-file-path-content-posts-inject-into-context-md-27c339db9032b21d3a6e.js.map